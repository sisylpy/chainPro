<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.grain.dao.CkInBillDao">

	<select id="queryObject" resultType="com.grain.entity.CkInBillEntity">
		select * from ck_in_bill where in_bill_id = #{value}
	</select>

	<select id="queryList" resultType="com.grain.entity.CkInBillEntity">
		select * from ck_in_bill where in_dep_id = #{depId}
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from ck_in_bill 
	</select>


	<insert id="save" parameterType="com.grain.entity.CkInBillEntity"
			useGeneratedKeys="true" keyColumn="in_bill_id" keyProperty="inBillId">
		insert into ck_in_bill
		(
			`in_bill_id`, 
			`in_supplier_id`, 
			`in_datetime`, 
			`in_dep_id`, 
			`in_user_id`, 
			`is_pay`, 
			`pay_mode`
		)
		values
		(
			#{inBillId}, 
			#{inSupplierId}, 
			#{inDatetime}, 
			#{inDepId}, 
			#{inUserId}, 
			#{isPay}, 
			#{payMode}
		)
	</insert>
	 
	<update id="update" parameterType="com.grain.entity.CkInBillEntity">
		update ck_in_bill 
		<set>
			<if test="inSupplierId != null">`in_supplier_id` = #{inSupplierId}, </if>
			<if test="inDatetime != null">`in_datetime` = #{inDatetime}, </if>
			<if test="inDepId != null">`in_dep_id` = #{inDepId}, </if>
			<if test="inUserId != null">`in_user_id` = #{inUserId}, </if>
			<if test="isPay != null">`is_pay` = #{isPay}, </if>
			<if test="payMode != null">`pay_mode` = #{payMode}</if>
		</set>
		where in_bill_id = #{inBillId}
	</update>
	
	<delete id="delete">
		delete from ck_in_bill where in_bill_id = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from ck_in_bill where in_bill_id in 
		<foreach item="inBillId" collection="array" open="(" separator="," close=")">
			#{inBillId}
		</foreach>
	</delete>

</mapper>